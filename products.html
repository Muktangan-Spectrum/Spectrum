<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spectrum - Sileo Product</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base Styles (Same as index.html) */
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --transition: all 0.3s ease;
            --box-shadow: 0 8px 30px rgba(106, 17, 203, 0.12);
            --bg-color: white;
            --text-color: black;
            --nav-bg: #fff;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #ffffff;
            --nav-bg: #121212;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }

        /* ... Include all base styles from index.html ... */

        /* Base Styles */
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --red-pastel: #ff9a9e;
            --orange-pastel: #fbc2eb;
            --yellow-pastel: #ffecd2;
            --green-pastel: #a1c4fd;
            --blue-pastel: #c2e9fb;
            --purple-pastel: #d4b6f5;
            --transition: all 0.3s ease;
            --box-shadow: 0 8px 30px rgba(106, 17, 203, 0.12);
            --bg-color: white;
            --text-color: black;
            --nav-bg: #fff;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #ffffff;
            --nav-bg: #121212;
            --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            overflow-x: hidden;
            transition: background-color 0.4s, color 0.4s;
        }

        a {
            text-decoration: none;
            color: var(--primary);
            transition: var(--transition);
        }

        a:hover {
            color: var(--secondary);
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        button, .btn {
            padding: 12px 28px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: var(--box-shadow);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(106, 17, 203, 0.2);
        }

        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(106, 17, 203, 0.05);
        }

        section {
            padding: 80px 0;
            position: relative;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        h1, h2, h3, h4 {
            margin-bottom: 0.5em;
            line-height: 1.2;
            color: var(--text-color);
        }

        h1 {
            font-size: 3.5rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        h2 {
            font-size: 2.5rem;
            position: relative;
        }

        h2::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            margin-top: 15px;
            border-radius: 2px;
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-color);
        }

       /* Announcement Bar */
       .announcement-bar {
            width: 100%;
            background-color: black;
            color: white;
            text-align: center;
            font-weight: bold;
            z-index: 2000;
            position: fixed;
            top: 0;
            left: 0;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
            padding: 5px 0;
            height: 40px;
            line-height: 40px;
        }

        .announcement-bar p {
            color: white;
        }

        /* Header & Navigation */
        header {
            position: fixed;
            top: 40px;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: var(--nav-bg);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        /* Product Header Fix */
        .product-header {
            text-align: center;
            padding: 50px 0 5px; /* Increased top padding */
            background: linear-gradient(135deg, var(--purple-pastel), var(--blue-pastel));
            margin-top: 20px; /* Push below fixed header */
        }

        .sileo-logo {
            width: 150px; /* Reduced size */
            max-width: 100%;
            height: auto;
            margin: 0 auto 30px;
            display: block;
        }
        header.scrolled {
            padding: 10px 0;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo-img {
            height: 40px;
            width: auto;
            margin-right: 10px;
            margin-top: -10px; /* Add negative margin to adjust vertical position */
        }

        .logo span {
            display: none; /* Hide the text since we have the logo image */
        }

        .nav-links {
            display: flex;
            list-style: none;
        }

        .nav-links li {
            margin-left: 30px;
        }

        .nav-links a {
            color: var(--text-color);
            font-weight: 600;
            position: relative;
            padding: 5px 0;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: var(--transition);
        }

        .nav-links a:hover::after, .nav-links a.active::after {
            width: 100%;
        }

        .hamburger {
            display: none;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--primary);
        }

        /* Theme Toggle */
        .theme-toggle {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
            margin-left: 20px;
        }

        .theme-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .theme-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .theme-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .theme-slider {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        input:checked + .theme-slider:before {
            transform: translateX(30px);
        }

        /* Product Specific Styles */
        .product-header {
            text-align: center;
            padding: 80px 0 40px;
            background: linear-gradient(135deg, var(--purple-pastel), var(--blue-pastel));
        }

        .sileo-logo {
            width: 200px;
            margin-bottom: 30px;
        }

        /* Video Section Fixes */
        .video-section {
            padding: 60px 0;
            position: relative;
            z-index: 1; /* Ensure content stays above */
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-top: 30px;
        }

        .video-card {
            background: var(--bg-color);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
            border-radius: 8px;
            background: #000;
            margin-bottom: 15px;
        }

        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-title {
            margin: 15px 0 10px;
            font-size: 1.4rem;
            color: var(--text-color);
            z-index: 2;
            position: relative;
        }

        /* Ensure text visibility */
        .section-header h2,
        .section-header p,
        .feature-card h3,
        .feature-card p {
            position: relative;
            z-index: 2;
        }
         /* Footer */
         footer {
            background: var(--nav-bg);
            padding: 60px 0 30px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-logo {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .footer-links h4 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-social {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-color);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .social-icon:hover {
            transform: translateY(-5px);
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid #eee;
            color: #777;
            font-size: 0.9rem;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes floatIn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .animate-fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .animate-fade-in.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            h1 {
                font-size: 2.8rem;
            }
            h2 {
                font-size: 2rem;
            }
            .hero-image {
                width: 40%;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 130px;
                left: 0;
                width: 100%;
                background: var(--nav-bg);
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                clip-path: circle(0% at 100% 0);
                transition: clip-path 0.4s ease;
                box-shadow: 0 10px 15px rgba(0,0,0,0.1);
            }
            
            .nav-links.active {
                clip-path: circle(150% at 100% 0);
            }
            
            .nav-links li {
                margin: 15px 0;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero {
                flex-direction: column;
                text-align: center;
                padding-top: 100px;
                height: auto;
                min-height: 100vh;
            }
            
            .hero-content {
                margin-bottom: 50px;
            }
            
            .hero-buttons {
                justify-content: center;
            }
            
            .hero-image {
                position: relative;
                width: 80%;
                margin-top: 30px;
            }
            
            .feature-card {
                margin-bottom: 20px;
            }
        }

        @media (max-width: 576px) {
            h1 {
                font-size: 2.2rem;
            }
            
            h2 {
                font-size: 1.8rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .feature-card {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="announcement-bar">
        <p>Introducing <strong>SILEO</strong></p>
    </div>
    dy>
    <!-- Fixed Header -->
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">
                    <img src="./logo-removebg-preview.png" alt="Spectrum Logo" class="logo-img">
                    <span>Spectrum</span>
                </a>
                <ul class="nav-links">
                    <li><a href="index.html" class="active">Home</a></li>
                    <li><a href="products.html">Products</a></li>
                    <li><a href="news.html">News</a></li>
                    <li><a href="about.html">About</a></li>
                </ul>
                <label class="theme-toggle">
                    <input type="checkbox" id="themeToggle">
                    <span class="theme-slider"></span>
                </label>
                <button class="hamburger" aria-label="Toggle navigation">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>


    <!-- Product Header -->
    <section class="product-header">
        <div class="container">
            <img src="sileo-logo.png" alt="Sileo Logo" class="sileo-logo">
            <h1> Horn Revolution</h1>
            <h3>Transforming City Sound With Sileo.</h3>
        </div>
    </section>

    <!-- Product Working Section -->
    <section class="video-section">
        <div class="container">
            <div class="section-header">
                <h2>Product Demonstration</h2>
                <p>See Sileo in action and understand its revolutionary technology</p>
            </div>
            
            <div class="video-grid">
                <!-- Product Working Video -->
                <div class="video-card animate-fade-in">
                    <h3 class="video-title">How Sileo Works</h3>
                    <div class="video-container">
                        <video controls>
                            <source src="product-working.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <p>Detailed demonstration of Sileo's intelligent honking system</p>
                </div>

                
                <!-- Advertisement Video -->
                <div class="video-card animate-fade-in">
                    <h3 class="video-title">Advertisement Video</h3>
                    <div class="video-container">
                        <video controls>
                            <source src="advertisement.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <p>Watch the advertisement video Of the Product Sileo.</p>
                </div>
            </div>
        </div>
            </div>
        </div>
    </section>

    <!-- Technical Specifications Section -->
    <section class="features">
        <div class="container">
            <div class="section-header">
                <h1>Technical Excellence</h1>
                <p>Engineered for performance and reliability</p>
            </div>
            
            <div class="features-grid">
                <div class="feature-card animate-fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-microchip"></i>
                    </div>
                    <h3>Smart Sound Processing</h3>
                    <p>Gives Short and Gentle beeps for intelligent honking patterns</p>
                </div>
                
                <div class="feature-card animate-fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3>Safety First Design</h3>
                    <p>Emergency override maintains critical safety functions</p>
                </div>
                
                <div class="feature-card animate-fade-in">
                    <div class="feature-icon">
                        <i class="fas fa-plug"></i>
                    </div>
                    <h3>Universal Compatibility (Easily Retrofitted)</h3>
                    <p>Works with all of existing vehicle models</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer (Same as index.html) -->
      <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <div class="footer-logo">
                        <span>Spectrum</span>
                    </div>
                    <p>Transforming businesses through innovative digital solutions and cutting-edge technology.</p>
                    <div class="footer-social">
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://www.instagram.com/spectrum___7/?hl=en" class="social-icon"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="products.html">Products</a></li>
                        <li><a href="news.html">News</a></li>
                        <li><a href="about.html">About</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Products</h4>
                    <ul>
                        <li><a href="products.html">Sileo</a></li>
                        <li><a href="products.html">Spectrum Suite</a></li>
                        <li><a href="products.html">Enterprise Solutions</a></li>
                        <li><a href="products.html">Custom Development</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4>Contact</h4>
                    <ul>
                        <li><i class="fas fa-map-marker-alt"></i> Muktangan Exploratory</li>
                        <li><i class="fas fa-phone"></i> (+91) 123-4567</li>
                        <li><i class="fas fa-envelope"></i> Spectrum@gmail.com</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 Spectrum. All rights reserved.</p>
            </div>
        </div>
    </footer>

<!--Ai Chat Start-->

<!-- AI Chat Container with ARIA attributes -->
<div class="ai-chat-container" role="dialog" aria-labelledby="chat-header" data-mode="light">
  <div class="ai-chat-box">
    <div class="chat-header" id="chat-header">
      <h3 style="color: var(--secondary)">Sileo Assistant</h3>
    </div>
    <div class="chat-messages" role="log" aria-live="polite"></div>
    <div class="chat-input">
    </div>
  </div>
  <button class="ai-trigger-btn" aria-label="Open chat assistant">
    <span class="trigger-icon">S</span>
  </button>
</div>

<style>
  /* AI Chat Styles */
  .ai-chat-container {
    --primary: #6a11cb;
    --secondary: #ffffff;
    --bg: #ffffff;
    --text: #000000;
    --border: #6a11cb;
  }
    
  [data-mode="dark"] {
    --primary: #121212;
    --secondary: #ffffff;
    --bg: #2a2a2a;
    --text: #ffffff;
    --border: #8a4dff;
  }
  
  .ai-chat-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
  }
  
  .ai-trigger-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--primary);
    border: 2px solid var(--border);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    color: var(--secondary);
    font-weight: bold;
    font-size: 24px;
  }
  
  .trigger-icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .ai-chat-box {
    width: 400px;
    background: var(--bg);
    border: 2px solid var(--border);
    border-radius: 12px;
    position: absolute;
    bottom: 70px;
    right: 0;
    display: none;
    max-height: 75vh;
    overflow: hidden;
    box-shadow: 0 5px 25px rgba(0,0,0,0.15);
  }
  
  .chat-header {
    padding: 15px;
    background: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px 10px 0 0;
  }
  
  .chat-messages {
    height: 400px;
    padding: 15px;
    overflow-y: auto;
  }
  
  .message {
    margin: 10px 0;
    padding: 12px;
    border-radius: 8px;
    max-width: 85%;
    animation: slideIn 0.3s ease;
    word-wrap: break-word;
  }
  
  .user-message {
    background: var(--primary);
    color: var(--secondary);
    margin-left: auto;
  }
  
  .ai-message {
    background: var(--bg);
    border: 2px solid var(--border);
    color: var(--text);
    margin-right: auto;
  }
  
  .question-chip {
    background: var(--bg);
    border: 2px solid var(--border);
    color: var(--text);
    cursor: pointer;
    transition: all 0.3s ease;
    padding: 10px 15px;
    border-radius: 20px;
    display: inline-block;
    margin: 5px;
    word-wrap: break-word;
    max-width: 90%;
  }
  
  .question-chip:hover {
    background: var(--primary);
    color: var(--secondary);
    transform: translateY(-2px);
  }
  
  .chat-input {
    display: flex;
    padding: 12px;
    border-top: 1px solid var(--border);
  }
  
  .chat-input input {
    flex: 1;
    padding: 12px 15px;
    border: 1px solid var(--border);
    border-radius: 20px;
    margin-right: 8px;
    background: var(--bg);
    color: var(--text);
    font-size: 14px;
  }
  
  .chat-input button {
    background: var(--primary);
    color: var(--secondary);
    border: none;
    border-radius: 20px;
    padding: 10px 18px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .chat-input button:hover {
    transform: scale(1.05);
  }
  
  .message-time {
    font-size: 0.75rem;
    opacity: 0.7;
    margin-top: 4px;
  }
  
  .available-questions {
    background: rgba(106, 17, 203, 0.1);
    border-radius: 8px;
    padding: 10px;
    margin-bottom: 15px;
  }
  
  .available-questions h4 {
    margin: 0 0 8px 0;
    color: var(--text);
    font-size: 14px;
  }
  
  .available-questions ul {
    margin: 0;
    padding-left: 20px;
    font-size: 13px;
    color: var(--text);
  }
  
  @keyframes slideIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
</style>

<script>
  // Chat elements
  const chatContainer = document.querySelector('.ai-chat-container');
  const chatBox = document.querySelector('.ai-chat-box');
  const triggerBtn = document.querySelector('.ai-trigger-btn');
  const chatMessages = document.querySelector('.chat-messages');
  const chatInput = document.querySelector('.chat-input input');
  const sendBtn = document.querySelector('.chat-input button');
  
  // Q&A Configuration
  let currentQuestionIndex = 0;
  const questions = [
    "How does Sileo work?",
    "What emergency features are included?",
    "How long does installation take?",
    "Which vehicles are compatible?",
    "What's the noise reduction percentage?",
    "Is there a warranty?",
    "How much power does it use?",
    "What certifications does it have?",
    "Can I install it myself?",
    "Where can I buy Sileo?"
  ];
  
  const answers = [
    "Sileo Works By producing small gentle beeps.",
    "A emergency horn feature is included with the sileo horn.",
    "It can be easily retrofitted (No clear Answer Yet).",
    "All Vehicles are compatible except Ambulance,Ships,Planes etc.",
    "There is minimum noise reduction (No clear Answer Yet).",
    "No, But It is made to last as per car Duration.",
    "8-10 Volts from the car battery.",
    "No Clear Answer.",
    "No it should be installed by the manufacture.",
    "You Cant Buy it. It comes already assembled in new cars."
  ];
  
  // Keywords mapping to questions
  const keywordMap = {
    "work": 0,
    "function": 0,
    "how": 0,
    "emergency": 1,
    "feature": 1,
    "install": 2,
    "retrofitted": 2,
    "vehicle": 3,
    "compatible": 3,
    "noise": 4,
    "reduction": 4,
    "warranty": 5,
    "guarantee": 5,
    "power": 6,
    "volt": 6,
    "battery": 6,
    "certification": 7,
    "certified": 7,
    "myself": 8,
    "diy": 8,
    "buy": 9,
    "purchase": 9
  };
  
  // Conversation history
  let conversationHistory = [];
  
  // Track asked questions
  let askedQuestions = new Set();
  
  // Check for theme changes
  function updateChatTheme() {
    if (document.body.classList.contains('dark-mode')) {
      chatContainer.dataset.mode = 'dark';
    } else {
      chatContainer.dataset.mode = 'light';
    }
  }
  
  // Listen for theme changes
  const chatObserver = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      if (mutation.attributeName === 'class') {
        updateChatTheme();
      }
    });
  });
  
  chatObserver.observe(document.body, { attributes: true });
  
  // Chat Functions
  function initializeChat() {
    currentQuestionIndex = 0;
    chatMessages.innerHTML = '';
    askedQuestions.clear();
    
    // Welcome message with all available questions
    const welcomeDiv = document.createElement('div');
    welcomeDiv.className = 'message ai-message';
    welcomeDiv.innerHTML = `
      Welcome to Sileo Assistant! I can answer questions about Sileo.
      <div class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
    `;
    chatMessages.appendChild(welcomeDiv);
    
    // Show first 3 questions as clickable options
    showNextQuestions(3);
    
    // Update theme based on current site theme
    updateChatTheme();
  }
  
  function showNextQuestions(count) {
    let shownCount = 0;
    let index = currentQuestionIndex;
    let remainingQuestions = questions.length - askedQuestions.size;
    
    // Check if this is the last question
    if (remainingQuestions === 1) {
      // Find the last unasked question
      for (let i = 0; i < questions.length; i++) {
        if (!askedQuestions.has(i)) {
          // Make the last question clickable without announcing it's the last one
          const finalQuestionChip = document.createElement('div');
          finalQuestionChip.className = 'question-chip';
          finalQuestionChip.style.background = 'var(--primary)';
          finalQuestionChip.style.color = 'var(--secondary)';
          finalQuestionChip.textContent = questions[i];
          finalQuestionChip.onclick = () => {
            addUserMessage(questions[i]);
            showAnswer(i);
          };
          chatMessages.appendChild(finalQuestionChip);
          break;
        }
      }
      return;
    }
    
    while (shownCount < count && shownCount < remainingQuestions) {
      // Skip already asked questions
      if (!askedQuestions.has(index)) {
        showQuestion(index);
        shownCount++;
      }
      
      index = (index + 1) % questions.length;
      
      // If we've gone through all questions, break to avoid infinite loop
      if (index === currentQuestionIndex && shownCount === 0) {
        break;
      }
    }
    
    // Update the current index for next time
    currentQuestionIndex = index;
  }
  
  function showQuestion(index) {
    if(index >= questions.length) return;
    
    const questionDiv = document.createElement('div');
    questionDiv.className = 'question-chip';
    questionDiv.textContent = questions[index];
    questionDiv.onclick = () => {
      addUserMessage(questions[index]);
      showAnswer(index);
    };
    
    chatMessages.appendChild(questionDiv);
  }
  
  function addUserMessage(text) {
    const userDiv = document.createElement('div');
    userDiv.className = 'message user-message';
    userDiv.textContent = text;
    chatMessages.appendChild(userDiv);
    chatMessages.scrollTo({top: chatMessages.scrollHeight, behavior: 'smooth'});
  }
  
  function showAnswer(index) {
    // Add this question to the asked set
    askedQuestions.add(index);
    
    // Remove question chips
    document.querySelectorAll('.question-chip').forEach(chip => {
      chip.style.display = 'none';
    });
    
    const answerDiv = document.createElement('div');
    answerDiv.className = 'message ai-message';
    answerDiv.innerHTML = `
      ${answers[index]}
      <div class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
    `;
    chatMessages.appendChild(answerDiv);
    
    // Save to history
    saveToHistory({
      question: questions[index],
      answer: answers[index],
      timestamp: new Date().toISOString()
    });
    
    // Check if all questions have been asked
    if (askedQuestions.size === questions.length) {
      // Show thank you message after 6 seconds
      setTimeout(() => {
        const thankYouDiv = document.createElement('div');
        thankYouDiv.className = 'message ai-message';
        thankYouDiv.innerHTML = `
          Thank you for chatting with Sileo Assistant! Have a great day!
          <div class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
        `;
        chatMessages.appendChild(thankYouDiv);
        chatMessages.scrollTo({top: chatMessages.scrollHeight, behavior: 'smooth'});
        
        // Close the chat box after 6 seconds
        setTimeout(() => {
          chatBox.style.display = 'none';
        }, 6000);
      }, 1000);
    } else {
      // Show next questions
      showNextQuestions(3);
    }
    
    chatMessages.scrollTo({top: chatMessages.scrollHeight, behavior: 'smooth'});
  }
  
  function saveToHistory(entry) {
    conversationHistory.push(entry);
    localStorage.setItem('chatHistory', JSON.stringify(conversationHistory));
  }
  
  function findBestMatch(input) {
    const cleanInput = input.toLowerCase().trim();
    let bestMatch = { index: -1, score: 0 };
    
    // First check for keywords
    const words = cleanInput.split(/\s+/);
    for (const word of words) {
      if (keywordMap[word]) {
        return keywordMap[word];
      }
    }
    
    // Then check for partial matches
    questions.forEach((question, index) => {
      const cleanQuestion = question.toLowerCase();
      let score = 0;
      
      if(cleanQuestion.includes(cleanInput)) score += 2;
      if(cleanInput.includes(cleanQuestion)) score += 1;
      
      // Check for word matches
      for (const word of words) {
        if (word.length > 3 && cleanQuestion.includes(word)) {
          score += 1;
        }
      }
      
      if(score > bestMatch.score) {
        bestMatch = { index, score };
      }
    });
    
    return bestMatch.score > 0 ? bestMatch.index : -1;
  }
  
  // Event Listeners
  triggerBtn.addEventListener('click', () => {
    chatBox.style.display = chatBox.style.display === 'block' ? 'none' : 'block';
    if(chatBox.style.display === 'block') initializeChat();
  });
  
  // Handle input submission
  sendBtn.addEventListener('click', handleUserInput);
  chatInput.addEventListener('keypress', (e) => {
    if(e.key === 'Enter') handleUserInput();
  });
  
  function handleUserInput() {
    const userText = chatInput.value.trim();
    if(!userText) return;
    
    addUserMessage(userText);
    chatInput.value = '';
    
    const matchedIndex = findBestMatch(userText);
    if(matchedIndex > -1) {
      showAnswer(matchedIndex);
    } else {
      const answerDiv = document.createElement('div');
      answerDiv.className = 'message ai-message';
      answerDiv.innerHTML = `
        I'm sorry, I can only answer questions about Sileo. Here are some topics you can ask about:
        <div class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</div>
      `;
      chatMessages.appendChild(answerDiv);
      
      // Show next 3 questions that haven't been asked
      showNextQuestions(3);
      
      chatMessages.scrollTo({top: chatMessages.scrollHeight, behavior: 'smooth'});
    }
  }
  
  // Keyboard accessibility
  document.addEventListener('keydown', (e) => {
    if(e.key === 'Escape' && chatBox.style.display === 'block') {
      chatBox.style.display = 'none';
    }
  });
</script>
<!--Ai Chat End-->
    
    <script>
        // Include all JavaScript from index.html
        // Navigation toggle
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');
        
        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.innerHTML = navLinks.classList.contains('active') ? 
                '<i class="fas fa-times"></i>' : '<i class="fas fa-bars"></i>';
        });
        
        // Scroll animations
        const animatedElements = document.querySelectorAll('.animate-fade-in');
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('show');
                }
            });
        }, { threshold: 0.1 });
        
        animatedElements.forEach(element => {
            observer.observe(element);
        });
        
        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
        
        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('change', () => {
            document.body.classList.toggle('dark-mode');
            // Save preference to localStorage
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('theme', 'dark');
            } else {
                localStorage.setItem('theme', 'light');
            }
        });
        
        // Check for saved theme preference
        if (localStorage.getItem('theme') === 'dark') {
            document.body.classList.add('dark-mode');
            themeToggle.checked = true;
        }
    </script>
</body>
</html>
